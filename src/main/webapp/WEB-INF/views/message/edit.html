<!--
  ~ The MIT License (MIT)
  ~
  ~ Copyright (c) 2014 Southwestern Adventist University
  ~
  ~ Permission is hereby granted, free of charge, to any person obtaining a copy
  ~ of this software and associated documentation files (the "Software"), to deal
  ~ in the Software without restriction, including without limitation the rights
  ~ to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  ~ copies of the Software, and to permit persons to whom the Software is
  ~ furnished to do so, subject to the following conditions:
  ~
  ~ The above copyright notice and this permission notice shall be included in
  ~ all copies or substantial portions of the Software.
  ~
  ~ THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  ~ IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  ~ FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  ~ AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  ~ LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  ~ OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  ~ THE SOFTWARE.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
    <head th:include="/layouts/main :: head('Edit Message')">
        <title>TEST</title>

        <link rel="stylesheet" href="../../../resources/css/jquery-ui.min.css" th:href="@{/resources/css/jquery-ui.min.css}" />
        <link rel="stylesheet" href="../../../resources/css/bootstrap.min.css" th:href="@{/resources/css/bootstrap.min.css}" />
        <link rel="stylesheet" href="../../../resources/css/font-awesome.min.css" th:href="@{/resources/css/font-awesome.min.css}" />
        <link rel="stylesheet" href="../../../resources/css/main.css" th:href="@{/resources/css/main.css}" />

    </head>
    <body>

        <header class="navbar navbar-fixed-top" role="banner" th:substituteby="/layouts/main :: navigation('admin')">
        </header>

        <div class="container">
            <div class="row content">
                <div class="col-sm-12">
                    <div class="row">
                        <div class="col-sm-3">
                            <ul class="nav sidenav">
                                <li><a href="#" th:href="@{/admin/user}">Users</a></li>
                                <li class="active"><a href="#" th:href="@{/admin/message}">Messages</a></li>
                            </ul>
                        </div>
                        <div class="col-sm-9">
                            <form action="#" th:action="@{/admin/posting/update}" th:object="${message}" method="post" >
                                <input type="hidden" id="id" name="id" value="" th:field="*{id}"/>
                                <input type="hidden" id="version" name="version" value="" th:field="*{version}"/>

                                <h1>Edit <th:block th:text="${message.name}">CODE</th:block> Message</h1>

                                <div class="row" th:unless="${#strings.isEmpty(errorMessage)}">
                                    <div class="col-sm-12">
                                        <div class="alert alert-danger">
                                            <h4>Error</h4>
                                            <p th:text="#{${errorMessage}(${errorMessageAttrs})}">Error Message</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="row" th:unless="${#strings.isEmpty(successMessage)}">
                                    <div class="col-sm-12">
                                        <div class="alert alert-success">
                                            <h4>Success</h4>
                                            <p th:text="#{${successMessage}(${successMessageAttrs})}">Success Message</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="row" th:if="${#fields.hasErrors('*')}">
                                    <div class="col-sm-12">
                                        <div class="alert alert-danger">
                                            <h4>Posting not updated</h4>
                                            <ul>
                                                <li th:each="err : ${#fields.errors('*')}" th:text="${err}">Incorrect input</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="form-group" th:classappend="${#fields.hasErrors('subject')}?'has-error'">
                                            <label class="control-label" for="subject">Subject</label>
                                            <input type="text" th:field="*{subject}" name="subject" id="subject" class="form-control"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="form-group" th:classappend="${#fields.hasErrors('content')}?'has-error'">
                                            <label class="control-label" for="content">Content</label>
                                            <textarea th:field="*{content}" name="content" id="content" class="form-control"></textarea>
                                            <div class="form-group">
                                                <dl class="dl-horizontal">
                                                    <dt>@@NAME@@</dt>
                                                    <dd>User's First Name</dd>
                                                    <dt>@@USERNAME@@</dt>
                                                    <dd>User's email.</dd>
                                                    <dt>@@PASSWORD@@</dt>
                                                    <dd>User's password. This can only be used in the SIGN_UP Message.</dd>
                                                    <dt>@@CODE@@</dt>
                                                    <dd>RSVP Code</dd>
                                                    <dt>@@EVENT@@</dt>
                                                    <dd>Event Name</dd>
                                                </dl>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-6">
                                        <button type="submit" class="btn btn-primary btn-lg"><i class="fa fa-edit"></i> Update</button>
                                        <a href="#" th:href="@{'/admin/message/show/'+${message.id}}" class="btn btn-default btn-lg" ><i class="fa fa-undo"></i> Cancel</a>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <footer role="contentinfo" th:replace="/layouts/main :: footer">
        </footer>

        <div th:replace="/layouts/main :: scripts">
            <script src="../../../resources/js/jquery-2.1.0.min.js" th:src="@{/resources/js/jquery-2.1.0.min.js}"></script>
            <script src="../../../resources/js/jquery-ui.min.js" th:src="@{/resources/js/jquery-ui.min.js}"></script>
            <script src="../../../resources/js/bootstrap.min.js" th:src="@{/resources/js/bootstrap.min.js}"></script>
            <script src="../../../resources/js/main.js" th:src="@{/resources/js/main.js}"></script>
        </div>
        <script src="../../../ckeditor/ckeditor.js" th:src="@{/ckeditor/ckeditor.js}"></script>
        <script type="text/javascript" th:inline="javascript">
            $(function() {

                CKEDITOR.replace('content');

            });
        </script>
    </body>
</html>